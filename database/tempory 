Ещё раз озвучу требования по дз-13:
- исправить все замечания из предыдущего задания
- хибернейт 5, критерия квери
- рекомендуемый способ получения сессии - SessionFactory
- можете добавить и сконфигурировать коннекшн пул типа c3p0, но можно этого и не делать
- помимо метода опенСэшн есть метод геКаррентСэшн - прочитайте, в чем разница
- из предыдущего пункта следует, что передавать сессию (по аналогии с коннекшном в jdbc) в аргументах дао нет необходимости
- требование к открытию транзакции в сервисе неизменно (даже несмотря на тучу примеров в интернете с транзакциями в дао)
- реализация абстракт дао строго обязательна, без абстракт дао ставлю сразу минус (потому что вы должны были это сделать в позапрошлом дз)
- продолжаем улучшать логирование и устойчивость приложения (приложение не должно падать даже если, к примеру, бд недоступна, а логи должны иметь исчерпывающую информацию по всем гештатным ситуациям)
- большим плюсом будет, если вы найдёте и вынесите в настройку вкл-выкл логирование sql запросов, которые генерит хибернейт, высший пилотаж - логирование sql в отдельный файл (нужен отдельный логер и аппендер)
- будет отдельным плюсом, если вы добавите плагин для генерации метамоделей для ваших энтити для удобного построения критерия квери
- обратите внимание на параметр fetch type eager и lazy, все связи за исключением 1:1 (и то лишь при необходимости) должны быть по умолчанию в лейзи. Обычные гетбайайди и гетОл получают объекты с лейзи дочерними сущностями. Если нужны дочерние - делаем отдельный метод для получения толстых объектов с дочерними сущностями. Такой подход снизит нагрузку на бд, снизит потребление памяти вашим приложением и улучшит производительность